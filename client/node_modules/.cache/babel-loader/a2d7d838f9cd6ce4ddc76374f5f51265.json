{"ast":null,"code":"var _jsxFileName = \"F:\\\\bilqis\\\\project - Copy\\\\client\\\\src\\\\components\\\\maps.js\",\n    _s = $RefreshSig$();\n\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet/dist/leaflet\";\nimport { useEffect } from \"react\";\nimport Axious from \"../node_modules/axios\";\nimport { LayerGroup } from \"leaflet\";\nimport { icon, marker } from \"leaflet\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Map() {\n  _s();\n\n  const centerCoor = [-7.770905, 110.377637];\n  const layerGroup = L.layerGroup([]);\n\n  const saveToDataBase = () => {\n    let namaMisi = prompt(\"nama misi:\");\n    Axious.post(\"http://localhost:3001/\", {\n      namaMisi: namaMisi,\n      geoJSON: JSON.stringify(LayerGroup.toGeoJSON())\n    });\n  };\n\n  useEffect(() => {\n    const mymap = L.map(\"mapid\", {\n      center: centerCoor,\n      zoom: 18\n    });\n    L.tileLayer(\"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF2aWVlbmJpaSIsImEiOiJja3dlY2xubzUwM2VoMzFwbWJ0OTFtbmx4In0.GLTaBJJrhb5ZQVP2fsZYhw\", {\n      attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n      maxZoom: 18,\n      id: \"mapbox/satellite-v9\",\n      tileSize: 512,\n      zoomOffset: -1,\n      accessToken: \"pk.eyJ1IjoibGF2aWVlbmJpaSIsImEiOiJja3dlY2xubzUwM2VoMzFwbWJ0OTFtbmx4In0.GLTaBJJrhb5ZQVP2fsZYhw\"\n    }).addTo(mymap); //TODO: icon\n\n    const myIcon = L.icon({\n      iconUrl: \"img/marker.png\",\n      iconSize: [40, 40],\n      iconAnchor: [40, 40]\n    });\n    const polyline = L.polyline([], {\n      color: \"red\"\n    });\n    layerGroup.addLayer(polyline).addTo(mymap); // event click map\n\n    mymap.on(\"click\", e => {\n      const {\n        lat,\n        lng\n      } = e.latlng;\n      polyline.addLatLng([lat, lng]);\n      layerGroup.addLayer(L.marker([lat, lng], {\n        icon: myIcon\n      }));\n    });\n    document.addEventListener(\"keypress\", e => {\n      if (e.code === \"Space\") {\n        polyline.remove(mymap);\n        layerGroup.remove(mymap);\n      }\n    });\n    return () => {\n      mymap.off();\n      mymap.remove();\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mapid\",\n      style: {\n        height: \"100vh\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => console.log(layerGroup.toGeoJSON()),\n      children: \"Generate geoJSON\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Map, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Map;\nexport default Map;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"sources":["F:/bilqis/project - Copy/client/src/components/maps.js"],"names":["L","useEffect","Axious","LayerGroup","icon","marker","Map","centerCoor","layerGroup","saveToDataBase","namaMisi","prompt","post","geoJSON","JSON","stringify","toGeoJSON","mymap","map","center","zoom","tileLayer","attribution","maxZoom","id","tileSize","zoomOffset","accessToken","addTo","myIcon","iconUrl","iconSize","iconAnchor","polyline","color","addLayer","on","e","lat","lng","latlng","addLatLng","document","addEventListener","code","remove","off","height","console","log"],"mappings":"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","sourcesContent":["import \"leaflet/dist/leaflet.css\";\r\nimport L from \"leaflet/dist/leaflet\";\r\nimport { useEffect } from \"react\";\r\nimport Axious from \"../node_modules/axios\";\r\nimport { LayerGroup } from \"leaflet\";\r\nimport { icon, marker } from \"leaflet\";\r\n\r\nfunction Map() {\r\n  const centerCoor = [-7.770905, 110.377637];\r\n  const layerGroup = L.layerGroup([]);\r\n\r\n  const saveToDataBase = () => {\r\n    let namaMisi = prompt(\"nama misi:\");\r\n    Axious.post(\"http://localhost:3001/\", {\r\n      namaMisi: namaMisi,\r\n      geoJSON: JSON.stringify(LayerGroup.toGeoJSON()),\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const mymap = L.map(\"mapid\", {\r\n      center: centerCoor,\r\n      zoom: 18,\r\n    });\r\n\r\n    L.tileLayer(\r\n      \"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGF2aWVlbmJpaSIsImEiOiJja3dlY2xubzUwM2VoMzFwbWJ0OTFtbmx4In0.GLTaBJJrhb5ZQVP2fsZYhw\",\r\n      {\r\n        attribution:\r\n          'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\r\n        maxZoom: 18,\r\n        id: \"mapbox/satellite-v9\",\r\n        tileSize: 512,\r\n        zoomOffset: -1,\r\n        accessToken:\r\n          \"pk.eyJ1IjoibGF2aWVlbmJpaSIsImEiOiJja3dlY2xubzUwM2VoMzFwbWJ0OTFtbmx4In0.GLTaBJJrhb5ZQVP2fsZYhw\",\r\n      }\r\n    ).addTo(mymap);\r\n\r\n    //TODO: icon\r\n    const myIcon = L.icon({\r\n      iconUrl: \"img/marker.png\",\r\n      iconSize: [40, 40],\r\n      iconAnchor: [40, 40],\r\n    });\r\n\r\n    const polyline = L.polyline([], { color: \"red\" });\r\n    layerGroup.addLayer(polyline).addTo(mymap);\r\n\r\n    // event click map\r\n    mymap.on(\"click\", (e) => {\r\n      const { lat, lng } = e.latlng;\r\n      polyline.addLatLng([lat, lng]);\r\n      layerGroup.addLayer(L.marker([lat, lng], { icon: myIcon }));\r\n    });\r\n\r\n    document.addEventListener(\"keypress\", (e) => {\r\n      if (e.code === \"Space\") {\r\n        polyline.remove(mymap);\r\n        layerGroup.remove(mymap);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      mymap.off();\r\n      mymap.remove();\r\n    };\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div id=\"mapid\" style={{ height: \"100vh\" }}></div>\r\n      <button onClick={(e) => console.log(layerGroup.toGeoJSON())}>\r\n        Generate geoJSON\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n"]},"metadata":{},"sourceType":"module"}